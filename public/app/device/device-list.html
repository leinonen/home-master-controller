<div class="device-list">

  <p ng-show="ctrl.devices.length === 0">Loading devices..</p>

  <table class="table">
    <tr>
      <th>Name</th>
      <th>Id</th>
      <th>Type</th>
      <th>State</th>
      <th></th>
    </tr>

    <tbody ng-repeat="device in ctrl.devices | orderBy:'name'">
    <tr>
      <td>{{device.name}}</td>
      <td><a ng-href="/api/device/{{device.id}}?type={{device.type}}">{{device.id}}</a></td>
      <td>{{device.type}}</td>
      <td>{{device.state.on?'on':'off'}}</td>

      <td>
        <button ng-show="device.state.on" ng-click="ctrl.turnOff(device)" type="button"
                class="btn btn-primary pull-right">off
        </button>
        <button ng-hide="device.state.on" ng-click="ctrl.turnOn(device)" type="button"
                class="btn btn-primary pull-right">on
        </button>
      </td>
    </tr>

    <tr ng-show="device.type === 'hue-device'">
      <td>Brightness: {{device.state.bri}}</td>
      <td colspan="4"><input type='range' min='0' max='254' ng-model="device.state.bri"
                             ng-change="ctrl.setBrightness(device)"
                             ng-disabled="device.state.on === false"/></td>
    </tr>

    </tbody>
  </table>
</div>
